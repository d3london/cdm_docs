[
  {
    "objectID": "table_person.html",
    "href": "table_person.html",
    "title": "London AI Centre / SDE Programme Docs",
    "section": "",
    "text": "This table serves as the central identity management for all Persons in the OMOP data model. It contains records that uniquely identify each person or patient, and some demographic information.\n\n\n\n\n\nerDiagram\n    PERSON {\n        person_id integer \"[PK not null] autogenerated identifier\"\n        gender_concept_id integer \"[not null]\"\n        year_of_birth integer \"[not null]\"\n        month_of_birth integer\n        day_of_birth integer\n        birth_datetime timestamp\n        race_concept_id integer \"[not null] race or ethnicity\"\n        ethnicity_concept_id integer \"[not null] US-specific hispanic vs non-hispanic\"\n        location_id integer \"patient physical address\"\n        provider_id integer \"GP who is primary care provider\"\n        care_site_id integer \"GP surgery for primary care\"\n        person_source_value varchar50 \"person identifer source value\"\n        gender_source_value varchar50 \"biological sex as represented in source\"\n        gender_source_concept_id integer \"mapping to omop, but often empty\"\n        race_source_value varchar50 \"race or ethnicity as represented in source\"\n        race_source_concept_id integer \"mapping to omop, but often empty\"\n        ethnicity_source_value varchar50 \"US-specific as represented in source\"\n        ethnicity_source_concept_id integer \"mapping to omop, but often empty\"\n    }\n\n\n\n\n\n\n\n\n\nSILVER.PERSON is the filtered, cleaned, and transformed version of ingested person and demographic tables, that is used to stage vanilla OMOP CDM5.4 tables (as well as other GOLD transformations). This table is wider than the OMOP data model, and includes the following differences:\n\nSurfaces both person_nhs_number and person_mrn (NHS hospital patients have two unique identifiers);\nStandardised concept codes/names are surfaced, and indexed, to enable user-friendly exploration and visualisation without the need for large joins;\nSource concept codes/names are surfaced to enable direct visibility over semantic provenance;\nAn additional demographic field for deprivation is included;\nOMOP CDM 5.4 columns that are not relevant to the NHS, or to intended purposes, are initialised, but set as null, and remain empty when carried into OMOP.PERSON.\n\n\n\n\n\n\nerDiagram\n    SILVER_PERSON {\n        person_id integer \"[PK]\"\n        person_nhs_number integer \"[NEW]\"\n        person_mrn varchar50 \"[NEW]\"\n        gender_concept_id integer \"[not null]\"\n        gender_concept_code varchar50 \"[NEW] standard concept code\"\n        gender_concept_name varchar50 \"[NEW] standard concept name\"\n        year_of_birth integer \"[not null]\"\n        month_of_birth integer\n        day_of_birth integer\n        birth_datetime timestamp \"[set as null]\"\n        race_concept_id integer \"[not null] race or ethnicity\"\n        race_concept_code varchar50 \"[NEW] standard concept code\"\n        race_concept_name varchar50 \"[NEW] standard concept name\"\n        deprivation_index_as_number integer \"[NEW] constrain to NHS IMD definitions\"       \n        ethnicity_concept_id integer \"[set as null]\"\n        location_id integer \"[set as null]\"\n        provider_id integer \"[set as null]\"\n        care_site_id integer \"[set as null]\"\n        person_source_value varchar50 \"contains mrn\"\n        gender_source_value varchar50 \"biological sex source code\"\n        gender_source_value_name varchar50 \"[NEW] biological sex source name\"\n        gender_source_concept_id integer \"[set as null]\"\n        race_source_value varchar50 \"ethnicity code as in source\"\n        race_source_value_name varchar50 \"[NEW] ethnicity name as in source\"\n        race_source_concept_id integer \"[set as null]\"\n        ethnicity_source_value varchar50 \"[set as null]\"\n        ethnicity_source_concept_id integer \"[set as null]\"    \n    }\n\nSILVER_PERSON ||--|| OMOP_PERSON: view\n\n    OMOP_PERSON {\n        person_id integer \"[PK not null] autogenerated identifier\"\n        gender_concept_id integer \"[not null]\"\n        year_of_birth integer \"[not null]\"\n        month_of_birth integer\n        day_of_birth integer\n        birth_datetime timestamp \"[set_as_null]\"\n        race_concept_id integer \"[not null] race or ethnicity\"\n        ethnicity_concept_id integer \"[set_as_null]\"\n        location_id integer \"[set_as_null]\"\n        provider_id integer \"[set_as_null]\"\n        care_site_id integer \"[set_as_null]\"\n        person_source_value varchar50 \"contains mrn\"\n        gender_source_value varchar50 \"biological sex source code\"\n        gender_source_concept_id integer \"[set_as_null]\"\n        race_source_value varchar50 \"ethnicity code as in source\"\n        race_source_concept_id integer \"[set_as_null]\"\n        ethnicity_source_value varchar50 \"[set_as_null]\"\n        ethnicity_source_concept_id integer \"[set_as_null]\"\n    }\n\n\n\n\n\n\n\n\n\n\n\nWhile hospitals make effort to keep MRN numbers unique, it is possible that a single patient may have multiple MRNs. An option is to use NHS numbers, but these are not always available or compulsory in the record (e.g. patients from overseas may not have NHS numbers). As such person_id is based on MRN (see Person disambiguation).\n\n\n\nAs fields in this table may be derived from different source tables, we do not directly surface row or systems lineage within PERSON tables.\n\n\n\n\n\n\nRows in OMOP.PERSON / SILVER.PERSON for a given person_id are not necessarily immutable, as demographic information may appear differently over different records (e.g. corrections, changes over time). When a demographic value is updated in a person’s record, there should be a way to load into table and surface differences without destroying historical data (i.e. the ability to reproduce analyses must be preserved).\nOne possibility is to use validity flags and start/end dates to handle future changes to person details/demographics, either to correct for mistakes, or because demographic information has changed. This may necessiate using a valid start date column to create a composite PK.\n\n\n\nPrior to generating any new person_ids, there needs to be a process of disambiguation by checking against MRNs that are known to represent the same patient. To incorporate this into the model, it may be necessary to incorporate a person disambiguation table that enables a many-to-one mapping of person_ids.\n\n\n\n\nJZ 2024-June-28: initial version, loaded original omop table and suggested SILVER model.",
    "crumbs": [
      "DATA MODEL",
      "PERSON"
    ]
  },
  {
    "objectID": "table_person.html#person",
    "href": "table_person.html#person",
    "title": "London AI Centre / SDE Programme Docs",
    "section": "",
    "text": "This table serves as the central identity management for all Persons in the OMOP data model. It contains records that uniquely identify each person or patient, and some demographic information.\n\n\n\n\n\nerDiagram\n    PERSON {\n        person_id integer \"[PK not null] autogenerated identifier\"\n        gender_concept_id integer \"[not null]\"\n        year_of_birth integer \"[not null]\"\n        month_of_birth integer\n        day_of_birth integer\n        birth_datetime timestamp\n        race_concept_id integer \"[not null] race or ethnicity\"\n        ethnicity_concept_id integer \"[not null] US-specific hispanic vs non-hispanic\"\n        location_id integer \"patient physical address\"\n        provider_id integer \"GP who is primary care provider\"\n        care_site_id integer \"GP surgery for primary care\"\n        person_source_value varchar50 \"person identifer source value\"\n        gender_source_value varchar50 \"biological sex as represented in source\"\n        gender_source_concept_id integer \"mapping to omop, but often empty\"\n        race_source_value varchar50 \"race or ethnicity as represented in source\"\n        race_source_concept_id integer \"mapping to omop, but often empty\"\n        ethnicity_source_value varchar50 \"US-specific as represented in source\"\n        ethnicity_source_concept_id integer \"mapping to omop, but often empty\"\n    }\n\n\n\n\n\n\n\n\n\nSILVER.PERSON is the filtered, cleaned, and transformed version of ingested person and demographic tables, that is used to stage vanilla OMOP CDM5.4 tables (as well as other GOLD transformations). This table is wider than the OMOP data model, and includes the following differences:\n\nSurfaces both person_nhs_number and person_mrn (NHS hospital patients have two unique identifiers);\nStandardised concept codes/names are surfaced, and indexed, to enable user-friendly exploration and visualisation without the need for large joins;\nSource concept codes/names are surfaced to enable direct visibility over semantic provenance;\nAn additional demographic field for deprivation is included;\nOMOP CDM 5.4 columns that are not relevant to the NHS, or to intended purposes, are initialised, but set as null, and remain empty when carried into OMOP.PERSON.\n\n\n\n\n\n\nerDiagram\n    SILVER_PERSON {\n        person_id integer \"[PK]\"\n        person_nhs_number integer \"[NEW]\"\n        person_mrn varchar50 \"[NEW]\"\n        gender_concept_id integer \"[not null]\"\n        gender_concept_code varchar50 \"[NEW] standard concept code\"\n        gender_concept_name varchar50 \"[NEW] standard concept name\"\n        year_of_birth integer \"[not null]\"\n        month_of_birth integer\n        day_of_birth integer\n        birth_datetime timestamp \"[set as null]\"\n        race_concept_id integer \"[not null] race or ethnicity\"\n        race_concept_code varchar50 \"[NEW] standard concept code\"\n        race_concept_name varchar50 \"[NEW] standard concept name\"\n        deprivation_index_as_number integer \"[NEW] constrain to NHS IMD definitions\"       \n        ethnicity_concept_id integer \"[set as null]\"\n        location_id integer \"[set as null]\"\n        provider_id integer \"[set as null]\"\n        care_site_id integer \"[set as null]\"\n        person_source_value varchar50 \"contains mrn\"\n        gender_source_value varchar50 \"biological sex source code\"\n        gender_source_value_name varchar50 \"[NEW] biological sex source name\"\n        gender_source_concept_id integer \"[set as null]\"\n        race_source_value varchar50 \"ethnicity code as in source\"\n        race_source_value_name varchar50 \"[NEW] ethnicity name as in source\"\n        race_source_concept_id integer \"[set as null]\"\n        ethnicity_source_value varchar50 \"[set as null]\"\n        ethnicity_source_concept_id integer \"[set as null]\"    \n    }\n\nSILVER_PERSON ||--|| OMOP_PERSON: view\n\n    OMOP_PERSON {\n        person_id integer \"[PK not null] autogenerated identifier\"\n        gender_concept_id integer \"[not null]\"\n        year_of_birth integer \"[not null]\"\n        month_of_birth integer\n        day_of_birth integer\n        birth_datetime timestamp \"[set_as_null]\"\n        race_concept_id integer \"[not null] race or ethnicity\"\n        ethnicity_concept_id integer \"[set_as_null]\"\n        location_id integer \"[set_as_null]\"\n        provider_id integer \"[set_as_null]\"\n        care_site_id integer \"[set_as_null]\"\n        person_source_value varchar50 \"contains mrn\"\n        gender_source_value varchar50 \"biological sex source code\"\n        gender_source_concept_id integer \"[set_as_null]\"\n        race_source_value varchar50 \"ethnicity code as in source\"\n        race_source_concept_id integer \"[set_as_null]\"\n        ethnicity_source_value varchar50 \"[set_as_null]\"\n        ethnicity_source_concept_id integer \"[set_as_null]\"\n    }\n\n\n\n\n\n\n\n\n\n\n\nWhile hospitals make effort to keep MRN numbers unique, it is possible that a single patient may have multiple MRNs. An option is to use NHS numbers, but these are not always available or compulsory in the record (e.g. patients from overseas may not have NHS numbers). As such person_id is based on MRN (see Person disambiguation).\n\n\n\nAs fields in this table may be derived from different source tables, we do not directly surface row or systems lineage within PERSON tables.\n\n\n\n\n\n\nRows in OMOP.PERSON / SILVER.PERSON for a given person_id are not necessarily immutable, as demographic information may appear differently over different records (e.g. corrections, changes over time). When a demographic value is updated in a person’s record, there should be a way to load into table and surface differences without destroying historical data (i.e. the ability to reproduce analyses must be preserved).\nOne possibility is to use validity flags and start/end dates to handle future changes to person details/demographics, either to correct for mistakes, or because demographic information has changed. This may necessiate using a valid start date column to create a composite PK.\n\n\n\nPrior to generating any new person_ids, there needs to be a process of disambiguation by checking against MRNs that are known to represent the same patient. To incorporate this into the model, it may be necessary to incorporate a person disambiguation table that enables a many-to-one mapping of person_ids.\n\n\n\n\nJZ 2024-June-28: initial version, loaded original omop table and suggested SILVER model.",
    "crumbs": [
      "DATA MODEL",
      "PERSON"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "SDE_AIC_DOCS",
    "section": "",
    "text": "Technical documentation for London SDE/AIC Programme",
    "crumbs": [
      "MAIN",
      "Index"
    ]
  }
]